/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/*.tar
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8137
====> Recall NetVLAD@5: 0.9029
====> Recall NetVLAD@10: 0.9268
====> Recall NetVLAD@20: 0.9463
====> Recall NetVLAD@50: 0.9643
====> Recall NetVLAD@100: 0.9752
====> Recall PatchNetVLAD@1: 0.8137
====> Recall PatchNetVLAD@5: 0.9029
====> Recall PatchNetVLAD@10: 0.9268
====> Recall PatchNetVLAD@20: 0.9463
====> Recall PatchNetVLAD@50: 0.9643
====> Recall PatchNetVLAD@100: 0.9752
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.6444
====> Recall NetVLAD@5: 0.7524
====> Recall NetVLAD@10: 0.7873
====> Recall NetVLAD@20: 0.8159
====> Recall NetVLAD@50: 0.8667
====> Recall NetVLAD@100: 0.8921
====> Recall PatchNetVLAD@1: 0.6444
====> Recall PatchNetVLAD@5: 0.7524
====> Recall PatchNetVLAD@10: 0.7873
====> Recall PatchNetVLAD@20: 0.8159
====> Recall PatchNetVLAD@50: 0.8667
====> Recall PatchNetVLAD@100: 0.8921
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8498
====> Recall NetVLAD@5: 0.9290
====> Recall NetVLAD@10: 0.9435
====> Recall NetVLAD@20: 0.9563
====> Recall NetVLAD@50: 0.9686
====> Recall NetVLAD@100: 0.9771
====> Recall PatchNetVLAD@1: 0.8498
====> Recall PatchNetVLAD@5: 0.9290
====> Recall PatchNetVLAD@10: 0.9435
====> Recall PatchNetVLAD@20: 0.9563
====> Recall PatchNetVLAD@50: 0.9686
====> Recall PatchNetVLAD@100: 0.9771
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.7016
====> Recall NetVLAD@5: 0.7587
====> Recall NetVLAD@10: 0.7905
====> Recall NetVLAD@20: 0.8349
====> Recall NetVLAD@50: 0.8730
====> Recall NetVLAD@100: 0.8857
====> Recall PatchNetVLAD@1: 0.7016
====> Recall PatchNetVLAD@5: 0.7587
====> Recall PatchNetVLAD@10: 0.7905
====> Recall PatchNetVLAD@20: 0.8349
====> Recall PatchNetVLAD@50: 0.8730
====> Recall PatchNetVLAD@100: 0.8857
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8305
====> Recall NetVLAD@5: 0.9136
====> Recall NetVLAD@10: 0.9327
====> Recall NetVLAD@20: 0.9476
====> Recall NetVLAD@50: 0.9660
====> Recall NetVLAD@100: 0.9774
====> Recall PatchNetVLAD@1: 0.8305
====> Recall PatchNetVLAD@5: 0.9136
====> Recall PatchNetVLAD@10: 0.9327
====> Recall PatchNetVLAD@20: 0.9476
====> Recall PatchNetVLAD@50: 0.9660
====> Recall PatchNetVLAD@100: 0.9774
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.6540
====> Recall NetVLAD@5: 0.7492
====> Recall NetVLAD@10: 0.7873
====> Recall NetVLAD@20: 0.8286
====> Recall NetVLAD@50: 0.8603
====> Recall NetVLAD@100: 0.8921
====> Recall PatchNetVLAD@1: 0.6540
====> Recall PatchNetVLAD@5: 0.7492
====> Recall PatchNetVLAD@10: 0.7873
====> Recall PatchNetVLAD@20: 0.8286
====> Recall PatchNetVLAD@50: 0.8603
====> Recall PatchNetVLAD@100: 0.8921
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8405
====> Recall NetVLAD@5: 0.9197
====> Recall NetVLAD@10: 0.9381
====> Recall NetVLAD@20: 0.9525
====> Recall NetVLAD@50: 0.9690
====> Recall NetVLAD@100: 0.9790
====> Recall PatchNetVLAD@1: 0.8405
====> Recall PatchNetVLAD@5: 0.9197
====> Recall PatchNetVLAD@10: 0.9381
====> Recall PatchNetVLAD@20: 0.9525
====> Recall PatchNetVLAD@50: 0.9690
====> Recall PatchNetVLAD@100: 0.9790
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.6825
====> Recall NetVLAD@5: 0.7746
====> Recall NetVLAD@10: 0.8159
====> Recall NetVLAD@20: 0.8413
====> Recall NetVLAD@50: 0.8730
====> Recall NetVLAD@100: 0.9079
====> Recall PatchNetVLAD@1: 0.6825
====> Recall PatchNetVLAD@5: 0.7746
====> Recall PatchNetVLAD@10: 0.8159
====> Recall PatchNetVLAD@20: 0.8413
====> Recall PatchNetVLAD@50: 0.8730
====> Recall PatchNetVLAD@100: 0.9079
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8408
====> Recall NetVLAD@5: 0.9225
====> Recall NetVLAD@10: 0.9412
====> Recall NetVLAD@20: 0.9553
====> Recall NetVLAD@50: 0.9693
====> Recall NetVLAD@100: 0.9800
====> Recall PatchNetVLAD@1: 0.8408
====> Recall PatchNetVLAD@5: 0.9225
====> Recall PatchNetVLAD@10: 0.9412
====> Recall PatchNetVLAD@20: 0.9553
====> Recall PatchNetVLAD@50: 0.9693
====> Recall PatchNetVLAD@100: 0.9800
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.7048
====> Recall NetVLAD@5: 0.7683
====> Recall NetVLAD@10: 0.8063
====> Recall NetVLAD@20: 0.8317
====> Recall NetVLAD@50: 0.8698
====> Recall NetVLAD@100: 0.8984
====> Recall PatchNetVLAD@1: 0.7048
====> Recall PatchNetVLAD@5: 0.7683
====> Recall PatchNetVLAD@10: 0.8063
====> Recall PatchNetVLAD@20: 0.8317
====> Recall PatchNetVLAD@50: 0.8698
====> Recall PatchNetVLAD@100: 0.8984
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8448
====> Recall NetVLAD@5: 0.9234
====> Recall NetVLAD@10: 0.9426
====> Recall NetVLAD@20: 0.9539
====> Recall NetVLAD@50: 0.9674
====> Recall NetVLAD@100: 0.9789
====> Recall PatchNetVLAD@1: 0.8448
====> Recall PatchNetVLAD@5: 0.9234
====> Recall PatchNetVLAD@10: 0.9426
====> Recall PatchNetVLAD@20: 0.9539
====> Recall PatchNetVLAD@50: 0.9674
====> Recall PatchNetVLAD@100: 0.9789
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.6984
====> Recall NetVLAD@5: 0.7810
====> Recall NetVLAD@10: 0.7968
====> Recall NetVLAD@20: 0.8286
====> Recall NetVLAD@50: 0.8730
====> Recall NetVLAD@100: 0.8952
====> Recall PatchNetVLAD@1: 0.6984
====> Recall PatchNetVLAD@5: 0.7810
====> Recall PatchNetVLAD@10: 0.7968
====> Recall PatchNetVLAD@20: 0.8286
====> Recall PatchNetVLAD@50: 0.8730
====> Recall PatchNetVLAD@100: 0.8952
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA
===================================
============Pittsburgh Testing=====
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8457
====> Recall NetVLAD@5: 0.9252
====> Recall NetVLAD@10: 0.9425
====> Recall NetVLAD@20: 0.9539
====> Recall NetVLAD@50: 0.9686
====> Recall NetVLAD@100: 0.9799
====> Recall PatchNetVLAD@1: 0.8457
====> Recall PatchNetVLAD@5: 0.9252
====> Recall PatchNetVLAD@10: 0.9425
====> Recall PatchNetVLAD@20: 0.9539
====> Recall PatchNetVLAD@50: 0.9686
====> Recall PatchNetVLAD@100: 0.9799
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
===================================
============Toyko 247 Testing======
===================================
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 75984 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='tokyo247_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', nocuda=False, output_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 315 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_247_Tokyo_GSV/', ground_truth_path='patchnetvlad/dataset_gt_files/tokyo247.npz', index_file_path='tokyo247_imageNames_index.txt', index_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_index', nocuda=False, query_file_path='tokyo247_imageNames_query.txt', query_input_features_dir='/mnt/ssd/usman_ws/datasets/patch-netvlad-features/tokyo247_query', result_save_folder='patchnetvlad/results/tokyo247')
Parsing dataset...
Done! Found 315 images
Parsing dataset...
Done! Found 75984 images
Parsing ground truth data file...
====> Building faiss index
Tokyo24/7: Selecting only one of the 12 cutouts per panorama
Writing results to patchnetvlad/results/tokyo247/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.6857
====> Recall NetVLAD@5: 0.7746
====> Recall NetVLAD@10: 0.8000
====> Recall NetVLAD@20: 0.8286
====> Recall NetVLAD@50: 0.8667
====> Recall NetVLAD@100: 0.8952
====> Recall PatchNetVLAD@1: 0.6857
====> Recall PatchNetVLAD@5: 0.7746
====> Recall PatchNetVLAD@10: 0.8000
====> Recall PatchNetVLAD@20: 0.8286
====> Recall PatchNetVLAD@50: 0.8667
====> Recall PatchNetVLAD@100: 0.8952
Writing recalls to patchnetvlad/results/tokyo247/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_7.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train-pitts.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_7.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_7.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_ind-lr0.0001-12-Jul-1531/checkpoints/checkpoint_7.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
