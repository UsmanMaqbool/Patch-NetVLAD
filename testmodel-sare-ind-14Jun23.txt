/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/*.tar
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8245
====> Recall NetVLAD@5: 0.9174
====> Recall NetVLAD@10: 0.9391
====> Recall NetVLAD@20: 0.9557
====> Recall NetVLAD@50: 0.9695
====> Recall NetVLAD@100: 0.9803
====> Recall PatchNetVLAD@1: 0.8245
====> Recall PatchNetVLAD@5: 0.9174
====> Recall PatchNetVLAD@10: 0.9391
====> Recall PatchNetVLAD@20: 0.9557
====> Recall PatchNetVLAD@50: 0.9695
====> Recall PatchNetVLAD@100: 0.9803
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8338
====> Recall NetVLAD@5: 0.9237
====> Recall NetVLAD@10: 0.9379
====> Recall NetVLAD@20: 0.9544
====> Recall NetVLAD@50: 0.9692
====> Recall NetVLAD@100: 0.9790
====> Recall PatchNetVLAD@1: 0.8338
====> Recall PatchNetVLAD@5: 0.9237
====> Recall PatchNetVLAD@10: 0.9379
====> Recall PatchNetVLAD@20: 0.9544
====> Recall PatchNetVLAD@50: 0.9692
====> Recall PatchNetVLAD@100: 0.9790
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8385
====> Recall NetVLAD@5: 0.9231
====> Recall NetVLAD@10: 0.9426
====> Recall NetVLAD@20: 0.9580
====> Recall NetVLAD@50: 0.9715
====> Recall NetVLAD@100: 0.9793
====> Recall PatchNetVLAD@1: 0.8385
====> Recall PatchNetVLAD@5: 0.9231
====> Recall PatchNetVLAD@10: 0.9426
====> Recall PatchNetVLAD@20: 0.9580
====> Recall PatchNetVLAD@50: 0.9715
====> Recall PatchNetVLAD@100: 0.9793
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8342
====> Recall NetVLAD@5: 0.9240
====> Recall NetVLAD@10: 0.9441
====> Recall NetVLAD@20: 0.9594
====> Recall NetVLAD@50: 0.9718
====> Recall NetVLAD@100: 0.9796
====> Recall PatchNetVLAD@1: 0.8342
====> Recall PatchNetVLAD@5: 0.9240
====> Recall PatchNetVLAD@10: 0.9441
====> Recall PatchNetVLAD@20: 0.9594
====> Recall PatchNetVLAD@50: 0.9718
====> Recall PatchNetVLAD@100: 0.9796
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8401
====> Recall NetVLAD@5: 0.9252
====> Recall NetVLAD@10: 0.9428
====> Recall NetVLAD@20: 0.9567
====> Recall NetVLAD@50: 0.9711
====> Recall NetVLAD@100: 0.9802
====> Recall PatchNetVLAD@1: 0.8401
====> Recall PatchNetVLAD@5: 0.9252
====> Recall PatchNetVLAD@10: 0.9428
====> Recall PatchNetVLAD@20: 0.9567
====> Recall PatchNetVLAD@50: 0.9711
====> Recall PatchNetVLAD@100: 0.9802
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8401
====> Recall NetVLAD@5: 0.9250
====> Recall NetVLAD@10: 0.9428
====> Recall NetVLAD@20: 0.9569
====> Recall NetVLAD@50: 0.9701
====> Recall NetVLAD@100: 0.9790
====> Recall PatchNetVLAD@1: 0.8401
====> Recall PatchNetVLAD@5: 0.9250
====> Recall PatchNetVLAD@10: 0.9428
====> Recall PatchNetVLAD@20: 0.9569
====> Recall PatchNetVLAD@50: 0.9701
====> Recall PatchNetVLAD@100: 0.9790
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_7_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8392
====> Recall NetVLAD@5: 0.9231
====> Recall NetVLAD@10: 0.9423
====> Recall NetVLAD@20: 0.9561
====> Recall NetVLAD@50: 0.9690
====> Recall NetVLAD@100: 0.9776
====> Recall PatchNetVLAD@1: 0.8392
====> Recall PatchNetVLAD@5: 0.9231
====> Recall PatchNetVLAD@10: 0.9423
====> Recall PatchNetVLAD@20: 0.9561
====> Recall PatchNetVLAD@50: 0.9690
====> Recall PatchNetVLAD@100: 0.9776
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_8_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8380
====> Recall NetVLAD@5: 0.9249
====> Recall NetVLAD@10: 0.9437
====> Recall NetVLAD@20: 0.9557
====> Recall NetVLAD@50: 0.9702
====> Recall NetVLAD@100: 0.9786
====> Recall PatchNetVLAD@1: 0.8380
====> Recall PatchNetVLAD@5: 0.9249
====> Recall PatchNetVLAD@10: 0.9437
====> Recall PatchNetVLAD@20: 0.9557
====> Recall PatchNetVLAD@50: 0.9702
====> Recall PatchNetVLAD@100: 0.9786
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/checkpoint_9_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8426
====> Recall NetVLAD@5: 0.9231
====> Recall NetVLAD@10: 0.9434
====> Recall NetVLAD@20: 0.9558
====> Recall NetVLAD@50: 0.9704
====> Recall NetVLAD@100: 0.9790
====> Recall PatchNetVLAD@1: 0.8426
====> Recall PatchNetVLAD@5: 0.9231
====> Recall PatchNetVLAD@10: 0.9434
====> Recall PatchNetVLAD@20: 0.9558
====> Recall PatchNetVLAD@50: 0.9704
====> Recall PatchNetVLAD@100: 0.9790
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar'
Encoder loaded!
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-sare_joint-lr0.0001-14-Jun-1247/checkpoints/model_best_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8401
====> Recall NetVLAD@5: 0.9252
====> Recall NetVLAD@10: 0.9428
====> Recall NetVLAD@20: 0.9567
====> Recall NetVLAD@50: 0.9711
====> Recall NetVLAD@100: 0.9802
====> Recall PatchNetVLAD@1: 0.8401
====> Recall PatchNetVLAD@5: 0.9252
====> Recall PatchNetVLAD@10: 0.9428
====> Recall PatchNetVLAD@20: 0.9567
====> Recall PatchNetVLAD@50: 0.9711
====> Recall PatchNetVLAD@100: 0.9802
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
