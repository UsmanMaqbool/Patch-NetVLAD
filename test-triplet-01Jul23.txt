/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/*.tar
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_1_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8134
====> Recall NetVLAD@5: 0.9120
====> Recall NetVLAD@10: 0.9300
====> Recall NetVLAD@20: 0.9476
====> Recall NetVLAD@50: 0.9661
====> Recall NetVLAD@100: 0.9778
====> Recall PatchNetVLAD@1: 0.8134
====> Recall PatchNetVLAD@5: 0.9120
====> Recall PatchNetVLAD@10: 0.9300
====> Recall PatchNetVLAD@20: 0.9476
====> Recall PatchNetVLAD@50: 0.9661
====> Recall PatchNetVLAD@100: 0.9778
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_10_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8499
====> Recall NetVLAD@5: 0.9287
====> Recall NetVLAD@10: 0.9448
====> Recall NetVLAD@20: 0.9569
====> Recall NetVLAD@50: 0.9690
====> Recall NetVLAD@100: 0.9771
====> Recall PatchNetVLAD@1: 0.8499
====> Recall PatchNetVLAD@5: 0.9287
====> Recall PatchNetVLAD@10: 0.9448
====> Recall PatchNetVLAD@20: 0.9569
====> Recall PatchNetVLAD@50: 0.9690
====> Recall PatchNetVLAD@100: 0.9771
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_2_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8234
====> Recall NetVLAD@5: 0.9155
====> Recall NetVLAD@10: 0.9356
====> Recall NetVLAD@20: 0.9538
====> Recall NetVLAD@50: 0.9690
====> Recall NetVLAD@100: 0.9792
====> Recall PatchNetVLAD@1: 0.8234
====> Recall PatchNetVLAD@5: 0.9155
====> Recall PatchNetVLAD@10: 0.9356
====> Recall PatchNetVLAD@20: 0.9538
====> Recall PatchNetVLAD@50: 0.9690
====> Recall PatchNetVLAD@100: 0.9792
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_3_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8376
====> Recall NetVLAD@5: 0.9231
====> Recall NetVLAD@10: 0.9420
====> Recall NetVLAD@20: 0.9541
====> Recall NetVLAD@50: 0.9682
====> Recall NetVLAD@100: 0.9770
====> Recall PatchNetVLAD@1: 0.8376
====> Recall PatchNetVLAD@5: 0.9231
====> Recall PatchNetVLAD@10: 0.9420
====> Recall PatchNetVLAD@20: 0.9541
====> Recall PatchNetVLAD@50: 0.9682
====> Recall PatchNetVLAD@100: 0.9770
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_4_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8480
====> Recall NetVLAD@5: 0.9234
====> Recall NetVLAD@10: 0.9418
====> Recall NetVLAD@20: 0.9535
====> Recall NetVLAD@50: 0.9676
====> Recall NetVLAD@100: 0.9784
====> Recall PatchNetVLAD@1: 0.8480
====> Recall PatchNetVLAD@5: 0.9234
====> Recall PatchNetVLAD@10: 0.9418
====> Recall PatchNetVLAD@20: 0.9535
====> Recall PatchNetVLAD@50: 0.9676
====> Recall PatchNetVLAD@100: 0.9784
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_5_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8461
====> Recall NetVLAD@5: 0.9259
====> Recall NetVLAD@10: 0.9432
====> Recall NetVLAD@20: 0.9563
====> Recall NetVLAD@50: 0.9692
====> Recall NetVLAD@100: 0.9767
====> Recall PatchNetVLAD@1: 0.8461
====> Recall PatchNetVLAD@5: 0.9259
====> Recall PatchNetVLAD@10: 0.9432
====> Recall PatchNetVLAD@20: 0.9563
====> Recall PatchNetVLAD@50: 0.9692
====> Recall PatchNetVLAD@100: 0.9767
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_6_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8504
====> Recall NetVLAD@5: 0.9262
====> Recall NetVLAD@10: 0.9441
====> Recall NetVLAD@20: 0.9557
====> Recall NetVLAD@50: 0.9674
====> Recall NetVLAD@100: 0.9761
====> Recall PatchNetVLAD@1: 0.8504
====> Recall PatchNetVLAD@5: 0.9262
====> Recall PatchNetVLAD@10: 0.9441
====> Recall PatchNetVLAD@20: 0.9557
====> Recall PatchNetVLAD@50: 0.9674
====> Recall PatchNetVLAD@100: 0.9761
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_7_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8484
====> Recall NetVLAD@5: 0.9266
====> Recall NetVLAD@10: 0.9445
====> Recall NetVLAD@20: 0.9573
====> Recall NetVLAD@50: 0.9676
====> Recall NetVLAD@100: 0.9764
====> Recall PatchNetVLAD@1: 0.8484
====> Recall PatchNetVLAD@5: 0.9266
====> Recall PatchNetVLAD@10: 0.9445
====> Recall PatchNetVLAD@20: 0.9573
====> Recall PatchNetVLAD@50: 0.9676
====> Recall PatchNetVLAD@100: 0.9764
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_8_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8501
====> Recall NetVLAD@5: 0.9272
====> Recall NetVLAD@10: 0.9451
====> Recall NetVLAD@20: 0.9579
====> Recall NetVLAD@50: 0.9676
====> Recall NetVLAD@100: 0.9749
====> Recall PatchNetVLAD@1: 0.8501
====> Recall PatchNetVLAD@5: 0.9272
====> Recall PatchNetVLAD@10: 0.9451
====> Recall PatchNetVLAD@20: 0.9579
====> Recall PatchNetVLAD@50: 0.9676
====> Recall PatchNetVLAD@100: 0.9749
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/checkpoint_9_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8490
====> Recall NetVLAD@5: 0.9263
====> Recall NetVLAD@10: 0.9441
====> Recall NetVLAD@20: 0.9558
====> Recall NetVLAD@50: 0.9686
====> Recall NetVLAD@100: 0.9768
====> Recall PatchNetVLAD@1: 0.8490
====> Recall PatchNetVLAD@5: 0.9263
====> Recall PatchNetVLAD@10: 0.9441
====> Recall PatchNetVLAD@20: 0.9558
====> Recall PatchNetVLAD@50: 0.9686
====> Recall PatchNetVLAD@100: 0.9768
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
Building PCA Model of /media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best.pth.tar file...
Namespace(config_path='patchnetvlad/configs/train.ini', dataset_choice='pitts', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k', nocuda=False, resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best.pth.tar', threads=1)
===> Building model
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best.pth.tar'
===> Loading PCA dataset(s)
Parsing dataset...
Done! Found 10000 images
===> Do inference to extract features and save them.
====> Extracting Features
Compute 10000 features
===> Compute PCA, takes a while
PCA for 10000 points of dimension 32768 to PCA dimension 4096
Compute 4096 eigenvectors
===> Add PCA Whiten
Done
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA
Extracting Features of Index Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_index.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA')
Parsing dataset...
Done! Found 10000 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Extracting Features of Query Images
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_file_path='pitts30k_imageNames_query.txt', dataset_root_dir='/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', nocuda=False, output_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', resume_path='/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA')
Parsing dataset...
Done! Found 6816 images
***
/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar
***
=> loading checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar'
=> loaded checkpoint '/media/leo/2C737A9872F69ECF/models/graphnetvlad/pytorch-netvlad/pittsburgh-triplet-lr0.0001-01-Jul-1401/checkpoints/model_best_WPCA4096.pth.tar'
====> Extracting Features


Done. Finished extracting and saving features
Performing Features Matching and Recall Result
Namespace(config_path='patchnetvlad/configs/performance.ini', dataset_root_dir='=/media/leo/2C737A9872F69ECF/datasets/maqbool-datasets/datasets-place-recognition/Test_Pitts250k/', ground_truth_path='./patchnetvlad/dataset_gt_files/pitts30k_test.npz', index_file_path='pitts30k_imageNames_index.txt', index_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_index', nocuda=False, query_file_path='pitts30k_imageNames_query.txt', query_input_features_dir='/media/leo/2C737A9872F69ECF/why-so-deepv2-data/pittsburgh/patch-netvlad-features/pitts30k_query', result_save_folder='./patchnetvlad/results/pitts30k-pytorchnetvlad')
Parsing dataset...
Done! Found 6816 images
Parsing dataset...
Done! Found 10000 images
Parsing ground truth data file...
====> Building faiss index
Writing results to ./patchnetvlad/results/pitts30k-pytorchnetvlad/NetVLAD_predictions.txt
Finished matching features.
Calculating recalls using ground truth.
====> Recall NetVLAD@1: 0.8504
====> Recall NetVLAD@5: 0.9262
====> Recall NetVLAD@10: 0.9441
====> Recall NetVLAD@20: 0.9557
====> Recall NetVLAD@50: 0.9674
====> Recall NetVLAD@100: 0.9761
====> Recall PatchNetVLAD@1: 0.8504
====> Recall PatchNetVLAD@5: 0.9262
====> Recall PatchNetVLAD@10: 0.9441
====> Recall PatchNetVLAD@20: 0.9557
====> Recall PatchNetVLAD@50: 0.9674
====> Recall PatchNetVLAD@100: 0.9761
Writing recalls to ./patchnetvlad/results/pitts30k-pytorchnetvlad/recalls.txt
Done
